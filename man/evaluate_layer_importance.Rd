% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utils_BaseModel.R
\name{evaluate_layer_importance}
\alias{evaluate_layer_importance}
\title{Evaluate layer importance}
\usage{
evaluate_layer_importance(hidden_states, layer_index, e)
}
\arguments{
\item{hidden_states}{\code{list} with length being equal to layer number. Each element (layer) of the list is an \code{array}
with size: (\code{batch_size}, \code{sequence_length}, \code{hidden_size})}

\item{layer_index}{\code{int} the index of the layer that must be evaluated}

\item{e}{\code{double} the threshold for activation}
}
\value{
Returns a \code{list} with the values: AV, NAV, AS, NAS, AVSS, NAVSS, CAVSS
}
\description{
Calculates the following values:
\itemize{
\item AV: Activation Variance
\item NAV: Normalized Activation Variance
\item AS: Activation Sparsity
\item NAS: Normalized Activation Sparsity
\item AVSS: Activation Variance-Sparsity Score
\item NAVSS: Normalized AVSS
\item CAVSS: Cumulative AVSS
}
}
\references{
Song, Z., Huang, S., Wu, Y., & Kang, Z. (2024). \emph{Layer Importance and Hallucination Analysis in
Large Language Models via Enhanced Activation Variance-Sparsity}.
arXiv:2411.10069. https://doi.org/10.48550/arXiv.2411.10069
}
\seealso{
Other AVSS: 
\code{\link{calculate_layer_AS}()},
\code{\link{calculate_layer_AV}()},
\code{\link{calculate_layer_AVSS}()},
\code{\link{calculate_value}()},
\code{\link{evaluate_layer_importance_all_batches}()},
\code{\link{reshape_layer}()}
}
\concept{AVSS}
